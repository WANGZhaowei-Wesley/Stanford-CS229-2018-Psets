\begin{answer}
(i)\\
W is a diagonal matrix, whose i(th) diagonal element is $w_{ii} = \frac{w^{(i)}}{2}$ \\
(ii)\\
\begin{align*}
    &J(\theta) = (X\theta - y)^T W (X\theta - y)\\
    &J(\theta) = tr(J(\theta))
\end{align*}
The derivative of $J(\theta)$ is:
\begin{align*}
    \Delta_\theta J(\theta) &= \Delta_\theta tr((X\theta - y)^T W (X\theta - y))\\
    &= \Delta_\theta tr( (X\theta)^T W (X\theta) - (X\theta)^T W y - y^T W (X\theta) + y^T W y)\\
    &= \Delta_\theta  tr( (X\theta)^T W (X\theta)) - 2\Delta_\theta tr(y^T W (X\theta))\\
    &= 2 X^T W X \theta - 2 X^T W y
\end{align*}
Let's set the derivative of $J(\theta)$ to $0$:
    $$2 X^T W X \theta - 2 X^T W y = 0$$
We can get the formula for $\theta$:
    $$\theta = (X^T W X)^{-1} X^T W y$$\\

(iii)
\begin{align*}
    \mathop{\arg\max}\limits_\theta \prod\limits_i P(y^{(i)}|x^{(i)};\theta) &= \mathop{\arg\max}\limits_\theta \sum\limits_i \log P(y^{(i)}|x^{(i)};\theta)\\
    &= \mathop{\arg\max}\limits_\theta \sum\limits_i -\log\sqrt{2\pi}\delta^{(i)} - \frac{(y^{(i)} - \theta^T x^{(i)}) ^ 2}{2(\delta^{(i)})^2}\\
    &= \mathop{\arg\min}\limits_\theta \sum\limits_i \frac{1}{2(\delta^{(i)})^2}(y^{(i)} - \theta^T x^{(i)})^2
\end{align*}
It's easy to see that $w^{(i)} = \frac{1}{(\delta^{(i)})^2}$
\end{answer}
